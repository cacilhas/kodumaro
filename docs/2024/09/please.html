<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatibile" content="IE=edge" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Cache-Control" content="no-cache" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="language" content="en" />
    <meta name="copyright" content="CC-BY 4.0" />
    <meta name="url" content="//kodumaro.cacilhas.info/2024/09/please.html" />
    <meta name="date" content="Sep. 11, 2024" />
    <meta name="search_date" content="2024-09-11" />
    <meta name="author" content="Montegasppα Cacilhας" />
    <meta property="og:site_name" content="Kodumaro" />
    <meta property="og:title" content="Please Install It for Me" />
    <meta property="og:url" content="//kodumaro.cacilhas.info/2024/09/please.html" />
    <meta property="og:image" content="//cacilhas.info/img/package.png" />
    <meta property="article:author" content="Montegasppα Cacilhας" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Kavivanar" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto&amp;subset=latin-ext" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:i,bold&amp;subset=latin-ext" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto+Mono" />
    <link rel="stylesheet" href="/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/animate.min.css" />
    <link rel="stylesheet" href="/css/hightlight.min.css" />
    <link rel="stylesheet" href="/css/bootstrap-dropdownhover.min.css" />
    <link rel="stylesheet" href="/css/ie10-viewport-bug-workaround.css" />
    <link rel="stylesheet" href="/css/bootstrap-theme.min.css" />
    <link rel="stylesheet" href="/css/theme.css" />
    <link rel="stylesheet" href="/css/kodumaro.css" />
    <link rel="stylesheet" href="//cacilhas.info/css/cacilhas.css" />
    <title>Please Install It for Me</title>
    <link rel="icon" href="/img/favicon.ico" />
    <script src="//montegasppa.cacilhas.info/js/ie-emulation-modes-warning.js"></script>
    <script src="//montegasppa.cacilhas.info/js/jquery.min.js"></script>
    <script src="//montegasppa.cacilhas.info/js/bootstrap-dropdownhover.min.js"></script>
    <script src="//montegasppa.cacilhas.info/js/handle-old-url.js"></script>
    <script src="//montegasppa.cacilhas.info/js/alt-title.js"></script>
    <script src="//montegasppa.cacilhas.info/js/anchors.js"></script>
    <script id="MathJax-script" async="async" src="//montegasppa.cacilhas.info/js/tex-mml-chtml.js"></script>
    <script src="/js/highlight.min.js"></script>
    <script async="async" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script src="//polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-5741846017654057",
        enable_page_level_ads: true,
      })
    </script>
    <script>
      (function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date;a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,"script","https://www.google-analytics.com/analytics.js","ga")
      ga("create", "UA-99357497-1", "auto")
      ga("send", "pageview")
    </script>
  </head>
  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button class="navbar-toggle collapsed" type="button" data-togge="collapse" data-target="#navbar" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <div class="dropdown">
            <span class="navbar-brand dropdown-toggle" data-toggle="dropdown" data-hover="dropdown">ℭacilhας.INFO</span>
            <ul class="dropdown-menu">
              <li><a href="//cacilhas.info/"><i class="glyphicon glyphicon-home"></i>&nbsp;ℭacilhας.INFO</a></li>
              <li><a href="//kodumaro.cacilhas.info/"><i class="licon icon-kodumaro"></i>&nbsp;Kodumaro</a></li>
              <li><a href="//montegasppa.cacilhas.info/"><i class="licon icon-montegasppa"></i>&nbsp;ℳontegasppα and Giulia C.’s Thoughts</a></li>
              <li><hr/></li>
              <li><a href="//hondaj.cacilhas.info/" target="_blank"><i class="licon icon-hondaj"></i>&nbsp;ĤøŅĐΔj̆₀</a></li>
              <li><a href="//vortaro.cacilhas.info/" target="_blank"><i class="glyphicon glyphicon-link"></i>&nbsp;&#x2F;&#x2F;vortaro.cacilhas.info&#x2F;</a></li>
              <li><a href="https://claudiotorcato.wordpress.com/" target="_blank"><i class="licon icon-wordpress"></i>&nbsp;Mosaico Livre</a></li>
              <li><a href="https://www.patreon.com/cacilhas" target="_blank"><i class="licon icon-patreon"></i>&nbsp;ℳontegasppα</a></li>
              <li><a href="https://montegasppa.bandcamp.com/releases" target="_blank"><i class="licon icon-le-obscur-essentes"></i>&nbsp;Le Obscur Essenteς</a></li>
              <li><a href="https://www.todasfridas.com.br/" target="_blank"><i class="licon icon-fridas"></i>&nbsp;Todas Fridas</a></li>
              <li><a href="https://waltercruz.com/" target="_blank"><i class="glyphicon glyphicon-link"></i>&nbsp;Walter Cruz</a></li>
              <li><a href="https://dev.to/cacilhas" target="_blank"><i class="licon icon-dev-to"></i>&nbsp;DEV Profile 👩‍💻👨‍💻</a></li>
            </ul>
          </div>
        </div>
        <div class="collapse navbar-collapse" id="navbar">
          <ul class="nav navbar-nav">
            <li><a href="//kodumaro.cacilhas.info"><i class="glyphicon glyphicon-home"></i>&nbsp;Home</a></li>
            <li class="active"><a href="//kodumaro.cacilhas.info/2024/09/please.html">Please Install It for Me</a></li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="container">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h2 class="mg-title">Please Install It for Me</h2>
          <h6 class="pull-right">2024-09-11</h6>
          <h6>The shadows behind the code.</h6>
        </div>
        <div class="panel-body">
          <p class="pull-right"> <img src="//cacilhas.info/img/package.png" alt="Package Management" width="171" height="150" /></p>
<p class="mg-first"> Something I consider really amazing is the package management idea, used
by open source projects and cannibalised by big techs.</p>
<p>I’m not talking about programming languages and frameworks, I’m talking about
operating system package management. It’s an incredibly good idea.</p>
<p>You can take any <a href="https://www.gnu.org/" target="_blank">GNU</a>/<a href="https://linux.org/" target="_blank">Linux</a>, <a href="https://www.wikiwand.com/en/articles/Berkeley_Software_Distribution" target="_blank">BSD</a>, or other open source operating
system, and there you’ll find a package manager.</p>
<p>The idea is so good that proprietary systems started to imitate, by will or not:
<a href="https://scoop.sh/" target="_blank">Scoop</a>, <a href="https://brew.sh/" target="_blank">Homebrew</a>, and so on.</p>
<p>It has only a <em>tiny-tiny</em> issue: every package manager has its own user
interface.</p>
<p>It’s actually quite annoying to remember which are the command line parameters
for each system. Even through the most similar operating systems, such as
GNU/Linux distros, the differences between managers are big.</p>
<p>Take <a href="https://wiki.archlinux.org/title/Pacman" target="_blank">Pacman</a> and <a href="https://www.wikiwand.com/en/articles/APT_(Package_Manager)" target="_blank">APT</a>, by instance.</p>
<p>How to install a package in an Arch Linux based system?</p>
<pre><code class="sh language-sh">pacman -S $package_name</code></pre>
<p>And in a Debian GNU/Linux based system?</p>
<pre><code class="sh language-sh">apt install $package_name</code></pre>
<p>I took the two most different tools, but the slightly different ones are even
worse, ’cause you have to keep remember tiny variations to avoid big mistakes.</p>
<h3 id="enter-the-universal-package-managers">Enter the universal package managers</h3>
<p>Some people had the idea of creating universal package managers, in order to put
some order to that chaos.</p>
<p>So you may trip over <a href="https://www.flatpak.org/" target="_blank">Flatpak</a>, <a href="https://appimage.org/" target="_blank">AppImage</a>, or, my favourite, <a href="https://crates.io/crates/upt" target="_blank">UPT</a>.</p>
<p>UPT is a real platform-agnostic package manager. I started using it some time
ago, and never stopped (till now).</p>
<p>It’s enough reliable and stable. If you’re using virtually any Linux distro, a
BSD distro, macOS with Homebrew, or Windows with a package manager, I highly
recommend it.</p>
<p>UPT <strong>doesn’t replace</strong> the system package manager, it works on top of it.</p>
<h3 id="it-works-until-it-doesn’t">It works until it doesn’t</h3>
<p>Just like anything else, UPT is no bed of roses.</p>
<p>I was using UPT in association to <a href="https://crates.io/crates/rua" target="_blank">Rua</a>, then <a href="https://github.com/Jguer/yay" target="_blank">Yay</a>.</p>
<p>When I was still using Rua, I’d never requested UPT to supported it, after the
Math, Rua isn’t that popular tool.</p>
<p>However, when I migrated to Yay, I started reckoning it makes no sense to use
two different package manages since Yay is a well known and popular tool.</p>
<p>I took a look at UPT’s code, and I find it easy to extend it to support Yay, so
I did it, and I uploaded a pull request.</p>
<p>After a copple of weeks, my pull request kept being ignored. That upset me.</p>
<p>Thereat I took a decision of creating my own demi-universal package manager.</p>
<h3 id="upt-please-had-born-to-die-premature">UPT Please had born (to die premature)</h3>
<p>I started using the UPT fork I’ve created for my pull request, and performed
some changes in order to differentiate it from UPT, but I didn’t like it.</p>
<p>UPT code is quite good, but it uses some approaches which I don’t like (they
aren’t wrong, it’s a personal taste), and if I kept it that way, I would be in
trouble supporting it.</p>
<h3 id="please-installer-at-last">Please Installer at last</h3>
<p>So I <a href="https://github.com/cacilhas/please" target="_blank">rewrote it from scratch</a>. My first goal was to reproduce
as much as possible UPT features I had used, so I did it.</p>
<p>Now I have a beta version working, and I’m using it in my systems.</p>
<p>I need more people using though. The more people uses it, the more stable and
reliable I’ll be able to make it.</p>
<h3 id="installation">Installation</h3>
<p>Please Installer requires the nightly version of Rust – and it won’t probable
change. While I’m writing this, the 2024-09-01 version works fine.</p>
<p>Therefore use the package manager of your system to install <code>rustup</code>, then run:</p>
<pre><code class="sh language-sh">rustup toolchain install nightly-2024-09-01</code></pre>
<p>Install Please Install:</p>
<pre><code class="sh language-sh">cargo +nightly-2024-09-01 install please-install</code></pre>
<p>If you dare, you may wanna install the development version:</p>
<pre><code class="sh language-sh">cargo +nightly-2024-09-01 install please-install --git=https://github.com/cacilhas/please.git</code></pre>
<p>Please installer supports a <a href="https://github.com/cacilhas/please?tab=readme-ov-file#settings" target="_blank">configuration file</a>, <code>$HOME/.config/please.toml</code>.
It’s not required, but recommended. I suggest the following initial content:</p>
<pre><code class="toml language-toml">su = true

[list]
pager = "bat --file-name='installed packages'"

[search]
pager = "bat --file-name='search $args'"</code></pre>
<p>Note that it requires <code>bat</code>.</p>
<p>Since I use <a href="https://archlinux.org/" target="_blank">Arch Linux</a>, <em>btw</em>, with <a href="https://github.com/Jguer/yay" target="_blank">Yay</a>, my personal settings are:</p>
<pre><code class="toml language-toml">assume-yes = true
vendor = "yay"

[remove]
su = true

[list]
pager = "bat --file-name='installed packages'"

[search]
pager = "bat --file-name='search $args'"</code></pre>
<p>My son uses Flatpak, and the his settings are:</p>
<pre><code class="toml language-toml">vendor = "flatpak"

[list]
pager = "bat --file-name='installed packages'"

[search]
pager = "bat --file-name='search $args'"</code></pre>
<p>So you can update your system:</p>
<pre><code class="sh language-sh">please update</code></pre>
<h3 id="using-please-installer">Using Please Installer</h3>
<p>Let’s find and install Brave Browser:</p>
<pre><code class="sh language-sh">please search brave-browser</code></pre>
<p>Using Yay, for me it returned the package <code>chaotic-aur/brave-bin</code> – dependenting
on your system, the package name may be completely different.</p>
<p>So install it:</p>
<pre><code class="sh language-sh">please install chaotic-aur/brave-bin</code></pre>
<p>And that’s it.</p>
<p>In order to upgrade it:</p>
<pre><code class="sh language-sh">please upgrade brave-bin</code></pre>
<p>And to remove it:</p>
<pre><code class="sh language-sh">please remove brave-bin</code></pre>
<p>List of subcommands:</p>
<pre><code class="sh language-sh">please help</code></pre>
<h3 id="next-goals">Next goals</h3>
<p>I still brought the overall approach from UPT code to Please Installer , and now
I realised it won’t stand. I need to rewrite the code again 🙁 to make it
mantainable.</p>
<p>I have plans to use more traits and put system-bought features into dedicated
modules that can be easily disabled in compiling time.</p>
<p>I wanna create a subcommand to help users to set their installation as well, and
also implement an built-in pager.</p>
<p>There’s a lot to do, it’s gonna take some time to get to the point I want, but I
expect to count on community to help testing and using it.</p>
<p>Let’s see what comes next…</p>
<hr />
<p class="small"> Also in <a href="https://dev.to/cacilhas/please-install-it-for-me-3ea9" target="_blank">DEV.to</a>.</p>
        </div>
        <div id="tags" class="pull-right tags">
          <script>
            var tags = 'package-management rust'
            if (tags) {
              var first = true
              for (var tag of tags.split(" ")) {
                if (first) { first = false }
                else $('#tags').append('&nbsp;|&nbsp;')
                $('#tags').append(
                  '<a href="/?tag=' + tag + '" class="tag">' + tag.replace(/-/g, ' ') + '</a>'
                )
              }
            }
          </script>
        </div>
      </div>
      <div class="panel panel-default">
        <div class="panel-body">
          <div id="disqus_thread">
            <noscript>
              Please enable JavaScript to view the comments
              <a href="https://disqus.com/?ref_noscript">powered by Disqus</a>.
            </noscript>
          </div>
          <script>
            var disqus_config = function() {
              this.page = this.page || {}
              this.page.url = 'https://kodumaro.cacilhas.info/2024/09/please.html'
              this.page.identifier = '_source.posts.2024-09-11-please'
              this.page.title = 'Please Install It for Me'
            }
            $(document).ready(function() {
              var d = document, s = d.createElement('script')
              s.src = 'https://kodumaro.disqus.com/embed.js'
              s.setAttribute('data-timestamp', +new Date())
              ;(d.head || d.body).appendChild(s)
            })
          </script>
        </div>
      </div>
      <div>
        <div class="pull-left">
          <script async="async" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
          <ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px;"
               data-ad-client="ca-pub-5741846017654057" data-ad-slot=""></ins>
          <script>(adsbygoogle = window.adsbygoogle || []).push({})</script>
        </div>
      </div>
    </div>
    <div class="panel-footer" id="footer">
      <p class="pull-left small">
        <a href="https://dev.to/cacilhas" target="_blank">
          <img src="https://d2fltix0v2e0sb.cloudfront.net/dev-badge.svg"
               alt="DEV Profile 👩‍💻👨‍💻"
               height="30" width="30"
               style="vertical-align: middle; border: none;" />
        </a>
      </p>
      <p class="pull-left small">
        <a rel="me" href="https://social.sndevs.com/@kodumaro" target="_blank">
          <img src="//cacilhas.info/img/mastodon.png"
               alt="Mastodon"
               height="24" width="22"
               style="vertical-align: middle; border: none;" />
        </a>
      </p>
      <p class="small">
        Montegasppα Cacilhας
        &nbsp;
        <a ref="license" href="http://creativecommons.org/licenses/by/4.0/deed">
          <img rel="license"
               alt="CC-BY 4.0"
               src="https://i.creativecommons.org/l/by/4.0/80x15.png"
               style="vertical-align: middle; border: none;" />
        </a>
      </p>
    </div>
    <script src="//cacilhas.info/js/bootstrap.min.js"></script>
    <script src="//cacilhas.info/js/ie10-viewport-bug-workaround.js"></script>
    <script language="javascript">
      hljs.highlightAll();
      $(document).ready(function() {
        $('[title]').tooltip();
      })
    </script>
  </body>
</html>

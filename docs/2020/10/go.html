<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatibile" content="IE=edge" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Cache-Control" content="no-cache" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="language" content="en" />
    <meta name="copyright" content="CC-BY 4.0" />
    <meta name="url" content="//kodumaro.cacilhas.info/2020/10/go.html" />
    <meta name="date" content="Oct. 31, 2020" />
    <meta name="search_date" content="2020-10-31" />
    <meta name="author" content="MontegasppŒ± CacilhŒ±œÇ" />
    <meta property="og:site_name" content="Kodumaro" />
    <meta property="og:title" content="About Go" />
    <meta property="og:url" content="//kodumaro.cacilhas.info/2020/10/go.html" />
    <meta property="og:image" content="//cacilhas.info/img/golang.png" />
    <meta property="article:author" content="MontegasppŒ± CacilhŒ±œÇ" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Kavivanar" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto&amp;subset=latin-ext" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:i,bold&amp;subset=latin-ext" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto+Mono" />
    <link rel="stylesheet" href="/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/animate.min.css" />
    <link rel="stylesheet" href="/css/bootstrap-dropdownhover.min.css" />
    <link rel="stylesheet" href="/css/ie10-viewport-bug-workaround.css" />
    <link rel="stylesheet" href="/css/bootstrap-theme.min.css" />
    <link rel="stylesheet" href="/css/theme.css" />
    <link rel="stylesheet" href="/css/kodumaro.css" />
    <link rel="stylesheet" href="//cacilhas.info/css/cacilhas.css" />
    <title>About Go</title>
    <link rel="icon" href="/img/favicon.ico" />
    <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
    <script src="//montegasppa.cacilhas.info/js/ie-emulation-modes-warning.js"></script>
    <script src="//montegasppa.cacilhas.info/js/jquery.min.js"></script>
    <script src="//montegasppa.cacilhas.info/js/bootstrap-dropdownhover.min.js"></script>
    <script src="//montegasppa.cacilhas.info/js/handle-old-url.js"></script>
    <script src="//montegasppa.cacilhas.info/js/alt-title.js"></script>
    <script src="//montegasppa.cacilhas.info/js/anchors.js"></script>
    <script async="async" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script src="//polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async="async" src="//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-5741846017654057",
        enable_page_level_ads: true,
      })
    </script>
    <script>
      (function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date;a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,"script","https://www.google-analytics.com/analytics.js","ga")
      ga("create", "UA-99357497-1", "auto")
      ga("send", "pageview")
    </script>
  </head>
  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button class="navbar-toggle collapsed" type="button" data-togge="collapse" data-target="#navbar" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <div class="dropdown">
            <span class="navbar-brand dropdown-toggle" data-toggle="dropdown" data-hover="dropdown">‚Ñ≠acilhŒ±œÇ.INFO</span>
            <ul class="dropdown-menu">
              <li><a href="//cacilhas.info/"><i class="glyphicon glyphicon-home"></i>&nbsp;‚Ñ≠acilhŒ±œÇ.INFO</a></li>
              <li><a href="//kodumaro.cacilhas.info/"><i class="licon icon-kodumaro"></i>&nbsp;Kodumaro</a></li>
              <li><a href="//montegasppa.cacilhas.info/"><i class="licon icon-montegasppa"></i>&nbsp;‚Ñ≥ontegasppŒ± and Giulia C.‚Äôs Thoughts</a></li>
              <li><hr/></li>
              <li><a href="//hondaj.cacilhas.info/" target="_blank"><i class="licon icon-hondaj"></i>&nbsp;ƒ§√∏≈ÖƒêŒîjÃÜ‚ÇÄ</a></li>
              <li><a href="//vortaro.cacilhas.info/" target="_blank"><i class="glyphicon glyphicon-link"></i>&nbsp;&#x2F;&#x2F;vortaro.cacilhas.info&#x2F;</a></li>
              <li><a href="https://claudiotorcato.wordpress.com/" target="_blank"><i class="licon icon-wordpress"></i>&nbsp;Mosaico Livre</a></li>
              <li><a href="https://www.patreon.com/cacilhas" target="_blank"><i class="licon icon-patreon"></i>&nbsp;‚Ñ≥ontegasppŒ±</a></li>
              <li><a href="https://montegasppa.bandcamp.com/releases" target="_blank"><i class="licon icon-le-obscur-essentes"></i>&nbsp;Le Obscur EssenteœÇ</a></li>
              <li><a href="https://www.todasfridas.com.br/" target="_blank"><i class="licon icon-fridas"></i>&nbsp;Todas Fridas</a></li>
              <li><a href="https://waltercruz.com/" target="_blank"><i class="glyphicon glyphicon-link"></i>&nbsp;Walter Cruz</a></li>
              <li><a href="https://dev.to/cacilhas" target="_blank"><i class="licon icon-dev-to"></i>&nbsp;DEV Profile üë©‚Äçüíªüë®‚Äçüíª</a></li>
            </ul>
          </div>
        </div>
        <div class="collapse navbar-collapse" id="navbar">
          <ul class="nav navbar-nav">
            <li><a href="//kodumaro.cacilhas.info"><i class="glyphicon glyphicon-home"></i>&nbsp;Home</a></li>
            <li class="active"><a href="//kodumaro.cacilhas.info/2020/10/go.html">About Go</a></li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="container">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h2 class="mg-title">About Go</h2>
          <h6 class="pull-right">2020-10-31</h6>
          <h6>The shadows behind the code.</h6>
        </div>
        <div class="panel-body">
          <p class="pull-right"> <img src="//cacilhas.info/img/golang.png" alt="Gopher" /></p>
<p class="mg-first"> Now I‚Äôm revisiting an <a href="/2017/06/golang.html">old post of mine</a> about my personal impressions
about the <a href="https://golang.org/" target="_blank">Go</a> language.</p>
<h3 id="outflanking">Outflanking</h3>
<p>My first impression on Go was very wrong. I flanked Go from the <a href="https://www.python.org/" target="_blank">Python</a> and
<a href="https://nodejs.org/" target="_blank">Node.js</a> perspective, which was very disappointing. When you try to use a
language that offers powerful tools to access system resources with an
open-and-shut mind, the result is frustrating.</p>
<p>As soon as I understood Go is closer to <a href="http://www.cplusplus.com/" target="_blank">C++</a> and <a href="https://www.gnu.org/software/gnustep/resources/documentation/Developer/Base/ProgrammingManual/manual_toc.html" target="_blank">Objective-C</a>, I realised
it‚Äôs a cool, powerful, and fun programming language.</p>
<p>At that time, a friend vainly tried to explain me Go pointers as read-write
parameters against read-only ones. If he had simply told me ‚Äúpointers like in
C,‚Äù I‚Äôd get at once.</p>
<p>My disapproval to Go is that <a href="https://abc.xyz/" target="_blank">Alphabet</a> might not have recreated the
wheel so hard, it could take advantage of other well-tested platforms, like
<a href="https://wiki.gnome.org/Projects/Vala" target="_blank">Vala</a> and <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/" target="_blank">C‚ôØ</a> did. It would entice lotta god programmers by the soft
learning curve (despite <a href="https://lwn.net/Articles/249460/" target="_blank">Linus Tovarlds disagrees</a>).</p>
<h3 id="interfaces">Interfaces</h3>
<p>In Go, <a href="https://www.golang-book.com/books/intro/9" target="_blank">interfaces</a> look like <a href="https://docs.scala-lang.org/style/types.html#structural-types" target="_blank">structural types</a> in Scala.</p>
<p>In other hand, <a href="https://gobyexample.com/structs" target="_blank">structs</a> are much like
<a href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/DefiningClasses/DefiningClasses.html" target="_blank">Objective-C <code>@interface</code>s</a>.</p>
<p>An instance of any struct that matches an interface is instance of the
inteface too, just like structural types.</p>
<p>For sample, take the following interface:</p>
<pre class="prettyprint"><code class="golang language-golang">type Person interface {
  FirstName() string
  LastName() string
  FullName() string
  Birth() time.Time
}</code></pre>
<p>If one has defined a struct:</p>
<pre class="prettyprint"><code class="golang language-golang">type personType struct {
  firstName, lastName string
  birth               time.Time
}</code></pre>
<p>And then every function from <code>Person</code> is implemented for <code>personType</code>:</p>
<pre class="prettyprint"><code class="golang language-golang">func (p personType) FirstName() string {
  return p.firstName
}

func (p personType) LastName() string {
  return p.lastName
}

func (p personType) FullName() string {
  return strings.Trim(fmt.Sprintf("%v %v", p.firstName, p.lastName), " ")
}

func (p personType) Birth() time.Time {
  return p.birth
}</code></pre>
<p>Then it‚Äôs possible to return a <code>personType</code> as <code>Person</code>:</p>
<pre class="prettyprint"><code class="golang language-golang">func NewPerson(firstName, lastName string, birth time.Time) Person {
  return personType{firstName, lastName, birth}
}</code></pre>
<h3 id="unit-tests">Unit tests</h3>
<p>For testing, Go‚Äôs got a built-in <a href="https://golang.org/pkg/testing/" target="_blank">testing</a> library, that‚Äôs very easy to
use.</p>
<p>Being very verbose, a yet simple example may be:</p>
<pre class="prettyprint"><code class="golang language-golang">func TestPerson(t *testing.T) {
  timeForm := "2006-01-02"
  birth, _ := time.Parse(timeForm, "2017-06-12")
  p := NewPerson("John", "Doe", birth)

  t.Run("primary methods", func(t *testing.T) {
    t.Run("FirstName", func(t *test.T) {
      if got := p.FirstName(); got != "John" {
        t.Fatalf("expected John, got %v", got)
      }
    })

    t.Run("LastName", func(t *test.T) {
      if got := p.LastName(); got != "Doe" {
        t.Fatalf("expected Doe, got %v", got)
      }
    })

    t.Run("Birth", func(t *test.T) {
      expected, _ := time.Parse(timeForm, "2017-02-12")
      if got := p.Birth(); got != expected {
        t.Fatalf("expected %v, got %v", expected, got)
      }
    })
  })

  t.Run("secondary methods", func(t *test.T) {
    t.Run("FullName", func(t *test.T) {
      if got := p.FullName(); got != "John Doe" {
        t.Fatalf("expected John Doe, got %v", got)
      }
    })
  })
}</code></pre>
<p>Enough for most cases.</p>
<p class="small"> In order to understand Go time format: <a href="https://yourbasic.org/golang/format-parse-string-time-date-example/" target="_blank">Format a time or date</a>.</p>
<h3 id="catching-exceptions">Catching exceptions</h3>
<p>The Go‚Äôs exception catching pattern is returning the error as second argument
for every function that can go wrong.</p>
<p>In the sample above, one can found this line:</p>
<pre class="prettyprint"><code class="golang language-golang">birth, _ := time.Parse(timeForm, "2017-06-12")</code></pre>
<p>The underscore (<code>_</code>) means the exception is discarded. If one wanna deal with
the exception, one can do something like:</p>
<pre class="prettyprint"><code class="golang language-golang">birth, err := time.Parse(timeForm, "2017-06-12")
if err != nil {
  // Deal with the exception
  ...
}</code></pre>
<p>Another way Go can throw an exception is by a panic attack. One can do it by
calling the <code>panic()</code> function.</p>
<p>The only way to catch this kind of exception is calling <code>recover()</code> inside a
<code>defer</code> block.</p>
<p>One can catch the exception and return it through a writable channel (<code>chan</code> or
<code>chan&lt;-</code>).</p>
<p>It smells like:</p>
<pre class="prettyprint"><code class="golang language-golang">func DoSomethingDangerous(res chan&lt;- error) {
  defer res &lt;- recover()

  // Do somenthing that can raise a panic attack.
  ...
}</code></pre>
<h3 id="afterword">Afterword</h3>
<p>Some useful resources:</p>
<ul>
<li><a href="https://tour.golang.org/" target="_blank">A Tour of Go</a></li>
<li><a href="https://www.golang-book.com/books/intro" target="_blank">An Introduction to Programming in Go</a></li>
<li><a href="https://blog.golang.org/" target="_blank">The Go Blog</a></li>
<li><a href="https://www.goinggo.net/" target="_blank">Going Go Programming</a> (looks unreachable üòü)</li>
<li><a href="https://play.golang.org/" target="_blank">The Go Playground</a></li>
</ul>
<hr />
<p class="small"> Also in <a href="https://dev.to/cacilhas/about-go-51c1" target="_blank">DEV.to</a>.</p>
        </div>
        <div id="tags" class="pull-right tags">
          <script>
            var tags = 'golang tdd'
            if (tags) {
              var first = true
              for (var tag of tags.split(" ")) {
                if (first) { first = false }
                else $('#tags').append('&nbsp;|&nbsp;')
                $('#tags').append(
                  '<a href="/?tag=' + tag + '" class="tag">' + tag.replace(/-/g, ' ') + '</a>'
                )
              }
            }
          </script>
        </div>
      </div>
      <div class="panel panel-default">
        <div class="panel-body">
          <div id="disqus_thread">
            <noscript>
              Please enable JavaScript to view the comments
              <a href="https://disqus.com/?ref_noscript">powered by Disqus</a>.
            </noscript>
          </div>
          <script>
            var disqus_config = function() {
              this.page = this.page || {}
              this.page.url = 'https://kodumaro.cacilhas.info/2020/10/go.html'
              this.page.identifier = '_source.posts.2020-10-31-go'
              this.page.title = 'About Go'
            }
            $(document).ready(function() {
              var d = document, s = d.createElement('script')
              s.src = 'https://kodumaro.disqus.com/embed.js'
              s.setAttribute('data-timestamp', +new Date())
              ;(d.head || d.body).appendChild(s)
            })
          </script>
        </div>
      </div>
      <div>
        <div class="pull-left">
          <script async="async" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
          <ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px;"
               data-ad-client="ca-pub-5741846017654057" data-ad-slot=""></ins>
          <script>(adsbygoogle = window.adsbygoogle || []).push({})</script>
        </div>
      </div>
    </div>
    <div class="panel-footer" id="footer">
      <p class="pull-left small">
        <a href="https://dev.to/cacilhas" target="_blank">
          <img src="https://d2fltix0v2e0sb.cloudfront.net/dev-badge.svg"
               alt="DEV Profile üë©‚Äçüíªüë®‚Äçüíª"
               height="30" width="30"
               style="vertical-align: middle; border: none;" />
        </a>
      </p>
      <p class="pull-left small">
        <a rel="me" href="https://social.sndevs.com/@kodumaro" target="_blank">
          <img src="//cacilhas.info/img/mastodon.png"
               alt="Mastodon"
               height="24" width="22"
               style="vertical-align: middle; border: none;" />
        </a>
      </p>
      <p class="small">
        MontegasppŒ± CacilhŒ±œÇ
        &nbsp;
        <a ref="license" href="http://creativecommons.org/licenses/by/4.0/deed">
          <img rel="license"
               alt="CC-BY 4.0"
               src="https://i.creativecommons.org/l/by/4.0/80x15.png"
               style="vertical-align: middle; border: none;" />
        </a>
      </p>
    </div>
    <script src="//cacilhas.info/js/bootstrap.min.js"></script>
    <script src="//cacilhas.info/js/ie10-viewport-bug-workaround.js"></script>
    <script language="javascript">
      $(document).ready(function() {
        $('[title]').tooltip();
      })
    </script>
  </body>
</html>

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatibile" content="IE=edge" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Cache-Control" content="no-cache" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="language" content="en" />
    <meta name="copyright" content="CC-BY 4.0" />
    <meta name="url" content="//kodumaro.cacilhas.info/2022/04/tic-80.html" />
    <meta name="date" content="Apr. 14, 2022" />
    <meta name="search_date" content="2022-04-14" />
    <meta name="author" content="Arƒ•imedeœÇ MontegasppŒ± CacilhŒ±œÇ" />
    <meta property="og:site_name" content="Kodumaro" />
    <meta property="og:title" content="Yin-Yang symbol on TIC-80" />
    <meta property="og:url" content="//kodumaro.cacilhas.info/2022/04/tic-80.html" />
    <meta property="og:image" content="//cacilhas.info/img/tic80.png" />
    <meta property="article:author" content="Arƒ•imedeœÇ MontegasppŒ± CacilhŒ±œÇ" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Kavivanar" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto&amp;subset=latin-ext" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:i,bold&amp;subset=latin-ext" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto+Mono" />
    <link rel="stylesheet" href="/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/animate.min.css" />
    <link rel="stylesheet" href="/css/bootstrap-dropdownhover.min.css" />
    <link rel="stylesheet" href="/css/ie10-viewport-bug-workaround.css" />
    <link rel="stylesheet" href="/css/bootstrap-theme.min.css" />
    <link rel="stylesheet" href="/css/theme.css" />
    <link rel="stylesheet" href="/css/kodumaro.css" />
    <link rel="stylesheet" href="//cacilhas.info/css/cacilhas.css" />
    <title>Yin-Yang symbol on TIC-80</title>
    <link rel="icon" href="/img/favicon.ico" />
    <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
    <script src="//cacilhas.info/js/ie-emulation-modes-warning.js"></script>
    <script src="//cacilhas.info/js/jquery.min.js"></script>
    <script src="//cacilhas.info/js/bootstrap-dropdownhover.min.js"></script>
    <script src="//cacilhas.info/js/handle-old-url.js"></script>
    <script src="//cacilhas.info/js/alt-title.js"></script>
    <script src="//cacilhas.info/js/anchors.js"></script>
    <script async="async" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-5741846017654057",
        enable_page_level_ads: true,
      })
    </script>
    <script>
      (function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date;a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,"script","https://www.google-analytics.com/analytics.js","ga")
      ga("create", "UA-99357497-1", "auto")
      ga("send", "pageview")
    </script>
  </head>
  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button class="navbar-toggle collapsed" type="button" data-togge="collapse" data-target="#navbar" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <div class="dropdown">
            <span class="navbar-brand dropdown-toggle" data-toggle="dropdown" data-hover="dropdown">‚Ñ≠acilhŒ±œÇ.INFO</span>
            <ul class="dropdown-menu">
              <li><a href="//cacilhas.info/"><i class="glyphicon glyphicon-home"></i>&nbsp;‚Ñ≠acilhŒ±œÇ.INFO</a></li>
              <li><a href="//kodumaro.cacilhas.info/"><i class="licon icon-kodumaro"></i>&nbsp;Kodumaro</a></li>
              <li><a href="//montegasppa.cacilhas.info/"><i class="licon icon-montegasppa"></i>&nbsp;‚Ñ≥ontegasppŒ± and Giulia C.‚Äôs Thoughts</a></li>
              <li><hr/></li>
              <li><a href="//hondaj.cacilhas.info/" target="_blank"><i class="licon icon-hondaj"></i>&nbsp;ƒ§√∏≈ÖƒêŒîjÃÜ‚ÇÄ</a></li>
              <li><a href="//vortaro.cacilhas.info/" target="_blank"><i class="glyphicon glyphicon-link"></i>&nbsp;&#x2F;&#x2F;vortaro.cacilhas.info&#x2F;</a></li>
              <li><a href="https://claudiotorcato.wordpress.com/" target="_blank"><i class="licon icon-wordpress"></i>&nbsp;Mosaico Livre</a></li>
              <li><a href="https://www.patreon.com/cacilhas" target="_blank"><i class="licon icon-patreon"></i>&nbsp;‚Ñ≥ontegasppŒ±</a></li>
              <li><a href="https://montegasppa.bandcamp.com/releases" target="_blank"><i class="licon icon-le-obscur-essentes"></i>&nbsp;Le Obscur EssenteœÇ</a></li>
              <li><a href="https://www.todasfridas.com.br/" target="_blank"><i class="licon icon-fridas"></i>&nbsp;Todas Fridas</a></li>
              <li><a href="https://waltercruz.com/" target="_blank"><i class="glyphicon glyphicon-link"></i>&nbsp;Walter Cruz</a></li>
              <li><a href="https://dev.to/cacilhas" target="_blank"><i class="licon icon-dev-to"></i>&nbsp;DEV Profile üë©‚Äçüíªüë®‚Äçüíª</a></li>
            </ul>
          </div>
        </div>
        <div class="collapse navbar-collapse" id="navbar">
          <ul class="nav navbar-nav">
            <li><a href="//kodumaro.cacilhas.info"><i class="glyphicon glyphicon-home"></i>&nbsp;Home</a></li>
            <li class="active"><a href="//kodumaro.cacilhas.info/2022/04/tic-80.html">Yin-Yang symbol on TIC-80</a></li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="container">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h2 class="mg-title">Yin-Yang symbol on TIC-80</h2>
          <h6 class="pull-right">2022-04-14</h6>
          <h6>The shadows behind the code.</h6>
        </div>
        <div class="panel-body">
          <div class="text-center"> <iframe src="https://www.youtube.com/embed/LxRiY2P9apw" frameborder="0" width="560" height="315" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen> </iframe> </div>
<p class="mg-first"> <a href="https://tic80.com/" target="_blank">TIC-80</a> is a free fantasy console for making, playing, and sharing
tiny games.</p>
<p>It has lots of built-in tools for development, like code, sprites, maps, sound
editors, a command line, and a Surf browser.</p>
<p>Its main development language is <a href="https://www.lua.org/" target="_blank">Lua</a>, but it supports a bunch of other
languages too, such as <a href="https://moonscript.org/" target="_blank">Moonscript</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript" target="_blank">Javascript</a>, <a href="http://wren.io/" target="_blank">Wren</a>, and
<a href="http://www.squirrel-lang.org/" target="_blank">Squirrel</a>.</p>
<blockquote>
  <p>Talking about Wren by the way, you can check the amazing <a href="https://domeengine.com/" target="_blank">Dome</a> game
  engine.</p>
</blockquote>
<p>Aiming to build a brief presentation, I‚Äôm coding a turning Yin-Yang symbol.</p>
<h3 id="opening-tic-80">Opening TIC-80</h3>
<p>Once you open the application, you got the prompt:</p>
<pre class="prettyprint"><code>TIC-80 tiny computer
version 1.0.2164 (b09c50c)
https://tic80.com (C) 2017-2022

hello! type help for help

&gt;</code></pre>
<p>Or something like this. In order to start a new project, use the <code>NEW</code> command,
informing the language you mean to use:</p>
<pre class="prettyprint"><code>&gt; NEW moon
new cart is created</code></pre>
<h3 id="coding-headers-and-background">Coding headers and background</h3>
<p>Now press <code>Escape</code> to enter the code editor. It starts with a boilerplate we
don‚Äôt need, let‚Äôs delete the code, keeping only the headers:</p>
<pre class="prettyprint"><code class="moonscript language-moonscript">-- title:   game title
-- author:  game developer, email, etc.
-- desc:    short description
-- site:    website link
-- license: MIT License (change this to your license of choice)
-- version: 0.1
-- script:  moon</code></pre>
<p>Update the headers to reflect our intension:</p>
<pre class="prettyprint"><code class="moonscript language-moonscript">-- title:  Yin Yang
-- author: Kodumaro
-- script: moon
export ^
local  *</code></pre>
<p>We‚Äôre gonna do some black magic hereafter‚Ä¶ This code was taken from the
<a href="https://github.com/nesbox/TIC-80/wiki/Sky-gradient" target="_blank">TIC-80‚Äôs wiki</a>, and creates a beautiful blue background gradient:</p>
<pre class="prettyprint"><code class="moonscript language-moonscript">BOOT=cls

BDR==&gt;
 poke 0x3fc1,@
 poke 0x3fc2,@+100

TIC=-&gt;</code></pre>
<p>The <code>BOOT</code> function is called only once, clearing the screen (<code>cls</code>).</p>
<p><strong>Note:</strong> TIC-80 code cannot be larger than 65&#8239;536 characters, so avoid
unnecessary whitespaces.</p>
<p>If nothing is wrong, when you press <abbr title="Control+R">C-r</abbr>, you‚Äôre
gonna get the following background:</p>
<p class="text-center" > <img src="//cacilhas.info/img/tic80/sky-gradient.png" alt="Sky Gradient" /></p>
<p>In earlier versions, <code>Escape</code> leads you back to the prompt, <code>escape</code> again to
the code editor. From version 1.0, you must select <code>CLOSE GAME</code> in order to get
back:</p>
<p class="text-center" > <img src="//cacilhas.info/img/tic80/close-game.png" alt="CLOSE GAME" /></p>
<h3 id="creating-the-yin-yang-symbol">Creating the Yin-Yang symbol</h3>
<p>Now we need to initialise the variables:</p>
<ul>
<li><code>c</code> for the screen centre ‚Äì TIC-8 resolution is 240√ó136</li>
<li><code>sin</code> and <code>cos</code> for the trigonometrical functions ‚Äì taken from <code>math</code> package</li>
<li><code>pi</code> for  œÄ ‚Äì taken from <code>math</code> package</li>
<li><code>tau</code> for œÑ ‚Äì calculated from <code>pi</code></li>
<li><code>angle</code> to control the turning angle</li>
<li><code>rm</code> and <code>rM</code> for smaller and greater circle radii respectively</li>
<li><code>yin</code> and <code>yang</code> for the colours</li>
</ul>
<p>In TIC-80, colours are stored in a palette, <a href="https://lospec.com/palette-list/sweetie-16" target="_blank">defaults to</a>:</p>
<p class="text-center" > <img src="//cacilhas.info/img/tic80/sweetie-16.png" alt="Sweetie-16" /></p>
<p>So the variables are initialised:</p>
<pre class="prettyprint"><code class="moonscript language-moonscript">import sin,cos,pi from math
c=x:120,y:68
tau=pi*2
angle=0
rm=3
rM=20
yin=15
yang=12</code></pre>
<p>The following statements must be put inside the <code>TIC</code> function, ‚Äôcause they need
to run every tick.</p>
<p>The black eye centre is calculated as a 2D vector of the current angle, away
from the screen centre using the greater radius:</p>
<pre class="prettyprint"><code class="moonscript language-moonscript"> c1=x:c.x+cos(angle)*rM,y:c.y+sin(angle)*rM</code></pre>
<p>The white eye centre is 180¬∞ away from the other one:</p>
<pre class="prettyprint"><code class="moonscript language-moonscript"> a2=angle+pi</code></pre>
<p>And the centre is calculated from the angle <code>a2</code>:</p>
<pre class="prettyprint"><code class="moonscript language-moonscript">  c2=x:c.x+cos(a2)*rM,y:c.y+sin(a2)*rM</code></pre>
<p>Now we need to draw four circles:</p>
<ol>
<li>A big dark one in <code>c1</code></li>
<li>A big light one in <code>c2</code></li>
<li>A small light one in <code>c1</code></li>
<li>A small dark one in <code>c2</code></li>
</ol>
<p>Which, using the TIC-8 assets, is:</p>
<pre class="prettyprint"><code class="moonscript language-moonscript"> circ c1.x,c1.y,rM,yin
 circ c2.x,c2.y,rM,yang
 circ c1.x,c1.y,rm,yang
 circ c2.x,c2.y,rm,yin</code></pre>
<p>At the function end, the angle is updated by 180¬∞ a second ‚Äì since TIC-80
framerate is 60Hz, 3¬∞ a tick:</p>
<pre class="prettyprint"><code class="moonscript language-moonscript"> angle=(angle+pi/60)%tau</code></pre>
<p>Running you must get the turning symbol:</p>
<p class="text-center"> <img src="//cacilhas.info/img/tic80/yin-yang.png" alt="Sky Gradient" /></p>
<h3 id="resouces">Resouces</h3>
<p>Download the Moonscript code from <a href="//cacilhas.info/misc/tic80/yin-yang.moon">here</a>, or the cartridge from
<a href="//cacilhas.info/misc/tic80/yin-yang.tic">here</a>.</p>
        </div>
        <div id="tags" class="pull-right tags">
          <script>
            var tags = 'lua fantasy-console game-engine'
            if (tags) {
              var first = true
              for (var tag of tags.split(" ")) {
                if (first) { first = false }
                else $('#tags').append('&nbsp;|&nbsp;')
                $('#tags').append(
                  '<a href="/?tag=' + tag + '" class="tag">' + tag.replace(/-/g, ' ') + '</a>'
                )
              }
            }
          </script>
        </div>
      </div>
      <div class="panel panel-default">
        <div class="panel-body">
          <div id="disqus_thread">
            <noscript>
              Please enable JavaScript to view the comments
              <a href="https://disqus.com/?ref_noscript">powered by Disqus</a>.
            </noscript>
          </div>
          <script>
            var disqus_config = function() {
              this.page = this.page || {}
              this.page.url = 'https://kodumaro.cacilhas.info/2022/04/tic-80.html'
              this.page.identifier = '_source.posts.2022-04-14-tic80'
              this.page.title = 'Yin-Yang symbol on TIC-80'
            }
            $(document).ready(function() {
              var d = document, s = d.createElement('script')
              s.src = 'https://kodumaro.disqus.com/embed.js'
              s.setAttribute('data-timestamp', +new Date())
              ;(d.head || d.body).appendChild(s)
            })
          </script>
        </div>
      </div>
      <div>
        <div class="pull-left">
          <script async="async" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
          <ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px;"
               data-ad-client="ca-pub-5741846017654057" data-ad-slot=""></ins>
          <script>(adsbygoogle = window.adsbygoogle || []).push({})</script>
        </div>
      </div>
    </div>
    <div class="panel-footer" id="footer">
      <p class="pull-left small">
        <a href="https://dev.to/cacilhas" target="_blank">
          <img src="https://d2fltix0v2e0sb.cloudfront.net/dev-badge.svg"
               alt="DEV Profile üë©‚Äçüíªüë®‚Äçüíª"
               height="30" width="30"
               style="vertical-align: middle; border: none;" />
        </a>
      </p>
      <p class="pull-left small">
        <a rel="me" href="https://social.sndevs.com/@kodumaro" target="_blank">
          <img src="//cacilhas.info/img/mastodon.png"
               alt="Mastodon"
               height="24" width="22"
               style="vertical-align: middle; border: none;" />
        </a>
      </p>
      <p class="small">
        Arƒ•imedeœÇ MontegasppŒ± CacilhŒ±œÇ
        &nbsp;
        <a ref="license" href="http://creativecommons.org/licenses/by/4.0/deed">
          <img rel="license"
               alt="CC-BY 4.0"
               src="https://i.creativecommons.org/l/by/4.0/80x15.png"
               style="vertical-align: middle; border: none;" />
        </a>
      </p>
    </div>
    <script src="//cacilhas.info/js/bootstrap.min.js"></script>
    <script src="//cacilhas.info/js/ie10-viewport-bug-workaround.js"></script>
    <script language="javascript">
      $(document).ready(function() {
        $('[title]').tooltip();
      })
    </script>
  </body>
</html>
